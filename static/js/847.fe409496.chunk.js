"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[847],{847:function(e,s,t){t.r(s),t.d(s,{default:function(){return u}});var i=t(885),r=t(791),n=t(504),l=t(871),c=t(562),a=t.n(c),o=t(390),d=t(880),h=t(184),m=function(){var e=(0,r.useState)({}),s=(0,i.Z)(e,2),n=s[0],c=s[1],a=(0,l.UO)().movieId,m=(0,r.useState)(""),v=(0,i.Z)(m,2),u=v[0],_=v[1],j=(0,r.useState)(null),x=(0,i.Z)(j,2),p=x[0],f=x[1],g="movie/"+a+"/credits";return(0,r.useEffect)((function(){(0,o.Z)(g,"").then((function(e){c(e),_("resolved")})).catch((function(e){_("rejected"),f(e)}))}),[g]),"rejected"===u?(0,h.jsx)("h1",{children:p.message}):(0,h.jsx)("div",{children:"resolved"===u&&(0,h.jsx)("div",{children:(0,h.jsx)("ul",{className:d.Z.castList,children:n.cast.map((function(e){return(0,h.jsx)("li",{className:d.Z.castItem,children:(0,h.jsxs)("div",{children:[e.profile_path&&(0,h.jsx)("img",{className:d.Z.castImg,src:"https://image.tmdb.org/t/p/original"+e.profile_path,alt:e.name}),!e.profile_path&&(0,h.jsx)("img",{className:d.Z.castImg,src:t(62),alt:e.name}),(0,h.jsx)("h2",{children:e.name})]})},e.id)}))})})})},v=function(){var e=(0,r.useState)([]),s=(0,i.Z)(e,2),t=s[0],n=s[1],c=(0,l.UO)().movieId,a=(0,r.useState)(""),m=(0,i.Z)(a,2),v=m[0],u=m[1],_=(0,r.useState)(null),j=(0,i.Z)(_,2),x=j[0],p=j[1],f="movie/"+c+"/reviews";return console.log("movieData=",t),(0,r.useEffect)((function(){(0,o.Z)(f,"").then((function(e){n(e.results),u("resolved")})).catch((function(e){u("rejected"),p(e)}))}),[f]),"rejected"===v?(0,h.jsx)("h1",{children:x.message}):(0,h.jsxs)("div",{children:["resolved"===v&&t.length>0&&(0,h.jsx)("div",{children:(0,h.jsx)("ul",{className:d.Z.reviewsList,children:t.map((function(e){return(0,h.jsxs)("li",{className:d.Z.reviewsItem,children:[(0,h.jsx)("span",{className:d.Z.reviewsAuthorTitle,children:"Author:"}),(0,h.jsxs)("span",{className:d.Z.reviewsAuthor,children:[" ",e.author]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:d.Z.reviewsTitle,children:"Review:"}),(0,h.jsx)("p",{children:e.content})]})]},e.id)}))})}),0===t.length&&(0,h.jsx)("div",{children:"There is no reviews"})]})},u=function(){var e=(0,r.useState)({}),s=(0,i.Z)(e,2),t=s[0],c=s[1],u=(0,r.useState)(""),_=(0,i.Z)(u,2),j=_[0],x=_[1],p=(0,r.useState)(""),f=(0,i.Z)(p,2),g=f[0],Z=f[1],w=(0,r.useState)(null),y=(0,i.Z)(w,2),N=y[0],A=y[1],b="movie/"+(0,l.UO)().movieId;return(0,r.useEffect)((function(){(0,o.Z)(b,"").then((function(e){c(e),Z("resolved"),x("https://image.tmdb.org/t/p/original"+e.poster_path),0!==e.length||a().Notify.failure("Sorry, something wrong happened.")})).catch((function(e){Z("rejected"),A(e)}))}),[b]),"rejected"===g?(0,h.jsx)("h1",{children:N.message}):(0,h.jsx)("div",{children:"resolved"===g&&(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:d.Z.movieDescription,children:[(0,h.jsx)("img",{className:d.Z.img,src:j,alt:t.original_title,width:"200"}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("h1",{className:d.Z.title,children:[t.original_title," (",t.release_date.split("-",1),")"]}),(0,h.jsxs)("span",{className:d.Z.score,children:["User score: ",t.vote_average]}),(0,h.jsx)("h3",{className:d.Z.subtitle,children:"Overview"}),(0,h.jsx)("p",{className:d.Z.overview,children:t.overview}),(0,h.jsx)("h3",{className:d.Z.subtitle,children:"Genres"}),(0,h.jsx)("p",{className:d.Z.overview,children:t.genres.map((function(e){return(0,h.jsx)("span",{className:d.Z.genres,children:e.name})}))})]})]}),(0,h.jsxs)("div",{className:d.Z.movieAdditional,children:[(0,h.jsxs)("ul",{className:d.Z.movieAdditionalList,children:[(0,h.jsx)("li",{children:(0,h.jsx)(n.OL,{to:"cast",children:"Cast"})}),(0,h.jsx)("li",{children:(0,h.jsx)(n.OL,{to:"reviews",children:"Reviews"})})]}),(0,h.jsxs)(l.Z5,{children:[(0,h.jsx)(l.AW,{path:"cast",element:(0,h.jsx)(m,{})}),(0,h.jsx)(l.AW,{path:"reviews",element:(0,h.jsx)(v,{})})]})]})]})})}},390:function(e,s,t){t.d(s,{Z:function(){return i}});function i(e,s){var t="https://api.themoviedb.org/3/"+e+"?api_key=933eb3a4e274b288a58d48cbb1a686ce"+s;return console.log(t),fetch(t).then((function(e){return e.ok?e.json():Promise.reject(new Error("Something wrong happened"))}))}},880:function(e,s){s.Z={container:"style_container__tfnjJ",list:"style_list__e2m2w",img:"style_img__j9z4o",movieDescription:"style_movieDescription__NYLLz",title:"style_title__971HD",score:"style_score__9GtIO",subtitle:"style_subtitle__RhGMt",overview:"style_overview__M9nDW",genres:"style_genres__qMb8A",movieAdditional:"style_movieAdditional__QnrqR",movieAdditionalList:"style_movieAdditionalList__5LAUO",castList:"style_castList__PpWrV",castItem:"style_castItem__S8s7z",castImg:"style_castImg__zvS8g",reviewsAuthor:"style_reviewsAuthor__uGRGo",reviewsItem:"style_reviewsItem__FaQfG",reviewsTitle:"style_reviewsTitle__HGs9E",reviewsAuthorTitle:"style_reviewsAuthorTitle__jRnuw",homeTitle:"style_homeTitle__r7o21"}},62:function(e,s,t){e.exports=t.p+"static/media/no-pictures.80721956dcfa6b7c1c0c.jpg"}}]);
//# sourceMappingURL=847.fe409496.chunk.js.map